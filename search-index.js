crystal_doc_search_index_callback({"repository_name":"github.com/impatienttraveller/json-tools","body":"# json-tools\n\n[![Built with Crystal](https://img.shields.io/badge/built%20with-crystal-000000.svg?style=flat-square)](https://crystal-lang.org/)\n[![Build Status](https://travis-ci.org/impatienttraveller/json-tools.svg?branch=master)](https://travis-ci.org/impatienttraveller/json-tools)\n[![Releases](https://img.shields.io/github/release/impatienttraveller/json-tools.svg?style=flat-square)](https://github.com/impatienttraveller/json-tools/releases)\n\nAn implementation of [RFC-6901](https://tools.ietf.org/html/rfc6901) and [RFC-6902](https://datatracker.ietf.org/doc/rfc6902)\n\n## Installation\n\nAdd this to your application's `shard.yml`:\n\n```yaml\ndependencies:\n  json-tools:\n    github: impatienttraveller/json-tools\n```\n\n## Usage\n\n```crystal\nrequire \"json-tools\"\n```\n\nOnce you have a `JSON::Any` object in memory you can address any value using the `Pointer` class:\n\n```crystal\njson : JSON::Any = ...\nval = Json::Tools::Pointer.new(\"/foo/0/bar\").eval(json)\n```\n\nJSON object can be patched by using the `Patch` class:\n\n```crystal\npatch : JSON::Any = ...\njson : JSON::Any = ...\npatched_json = Json::Tools::Patch.new(patch).apply(json)\n```\n\nThis creates a copy of the passed JSON object to work with and the original object is not altered.\n\n## Development\n\nPlease raise a GitHub issue and document the commit with the following format:\n\n```\n[issue-x] Description\n```\n\n## Contributing\n\n1. Fork it (<https://github.com/impatienttraveller/json-tools/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [ddcprg](https://github.com/ddcprg) Daniel del Castillo - creator, maintainer\n","program":{"html_id":"github.com/impatienttraveller/json-tools/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/impatienttraveller/json-tools","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/impatienttraveller/json-tools/Json","path":"Json.html","kind":"module","full_name":"Json","name":"Json","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"json-tools/exception.cr","line_number":1,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr"}],"repository_name":"github.com/impatienttraveller/json-tools","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools","path":"Json/Tools.html","kind":"module","full_name":"Json::Tools","name":"Tools","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"json-tools/exception.cr","line_number":1,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr"},{"filename":"json-tools/patch.cr","line_number":3,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/patch.cr"},{"filename":"json-tools/pointer.cr","line_number":3,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/pointer.cr"},{"filename":"json-tools.cr","line_number":6,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools.cr"}],"repository_name":"github.com/impatienttraveller/json-tools","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"FROM","name":"FROM","value":"\"from\"","doc":null,"summary":null},{"id":"OP","name":"OP","value":"\"op\"","doc":"Allowed attributes of a JSON patch object","summary":"<p>Allowed attributes of a JSON patch object</p>"},{"id":"OP_ADD","name":"OP_ADD","value":"\"add\"","doc":null,"summary":null},{"id":"OP_COPY","name":"OP_COPY","value":"\"copy\"","doc":null,"summary":null},{"id":"OP_MOVE","name":"OP_MOVE","value":"\"move\"","doc":null,"summary":null},{"id":"OP_REMOVE","name":"OP_REMOVE","value":"\"remove\"","doc":null,"summary":null},{"id":"OP_REPLACE","name":"OP_REPLACE","value":"\"replace\"","doc":null,"summary":null},{"id":"OP_TEST","name":"OP_TEST","value":"\"test\"","doc":"Set of operations as per the RFC","summary":"<p>Set of operations as per the RFC</p>"},{"id":"PATH","name":"PATH","value":"\"path\"","doc":null,"summary":null},{"id":"VALUE","name":"VALUE","value":"\"value\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/impatienttraveller/json-tools/Json","kind":"module","full_name":"Json","name":"Json"},"doc":"A collection of modules and classes to manipulate and process JSON objects.","summary":"<p>A collection of modules and classes to manipulate and process JSON objects.</p>","class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools/FailedTestException","path":"Json/Tools/FailedTestException.html","kind":"class","full_name":"Json::Tools::FailedTestException","name":"FailedTestException","abstract":false,"superclass":{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/impatienttraveller/json-tools/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/impatienttraveller/json-tools/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"json-tools/exception.cr","line_number":49,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr"}],"repository_name":"github.com/impatienttraveller/json-tools","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools","kind":"module","full_name":"Json::Tools","name":"Tools"},"doc":"Exception raised by `Json::Tools::Patch` when a test operation does not pass.","summary":"<p>Exception raised by <code><a href=\"../../Json/Tools/Patch.html\">Json::Tools::Patch</a></code> when a test operation does not pass.</p>","class_methods":[],"constructors":[{"id":"new(value:JSON::Any,path:String)-class-method","html_id":"new(value:JSON::Any,path:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"JSON::Any"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"args_string":"(value : JSON::Any, path : String)","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L52","def":{"name":"new","args":[{"name":"value","doc":null,"default_value":"","external_name":"value","restriction":"JSON::Any"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(value, path)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"path:String-instance-method","html_id":"path:String-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L50","def":{"name":"path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@path"}},{"id":"value:JSON::Any-instance-method","html_id":"value:JSON::Any-instance-method","name":"value","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : JSON::Any","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L50","def":{"name":"value","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@value"}}],"macros":[],"types":[]},{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools/IllegalOperationException","path":"Json/Tools/IllegalOperationException.html","kind":"class","full_name":"Json::Tools::IllegalOperationException","name":"IllegalOperationException","abstract":false,"superclass":{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/impatienttraveller/json-tools/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/impatienttraveller/json-tools/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"json-tools/exception.cr","line_number":42,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr"}],"repository_name":"github.com/impatienttraveller/json-tools","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools","kind":"module","full_name":"Json::Tools","name":"Tools"},"doc":"Exception raised if trying to perform an operation that does not make sense in the current context, for example\nwhen trying to access the parent pointer of the root element.","summary":"<p>Exception raised if trying to perform an operation that does not make sense in the current context, for example when trying to access the parent pointer of the root element.</p>","class_methods":[],"constructors":[{"id":"new(message:String)-class-method","html_id":"new(message:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"args_string":"(message : String)","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L43","def":{"name":"new","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools/IvalidFormat","path":"Json/Tools/IvalidFormat.html","kind":"class","full_name":"Json::Tools::IvalidFormat","name":"IvalidFormat","abstract":false,"superclass":{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/impatienttraveller/json-tools/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/impatienttraveller/json-tools/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"json-tools/exception.cr","line_number":12,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr"}],"repository_name":"github.com/impatienttraveller/json-tools","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools","kind":"module","full_name":"Json::Tools","name":"Tools"},"doc":"Exception raised by `Json::Tools::Patch` if the patch document is invalid.","summary":"<p>Exception raised by <code><a href=\"../../Json/Tools/Patch.html\">Json::Tools::Patch</a></code> if the patch document is invalid.</p>","class_methods":[],"constructors":[{"id":"new(message:String)-class-method","html_id":"new(message:String)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"args_string":"(message : String)","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L17","def":{"name":"new","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"id":"new(object:JSON::Any)-class-method","html_id":"new(object:JSON::Any)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":"JSON::Any"}],"args_string":"(object : JSON::Any)","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L13","def":{"name":"new","args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":"JSON::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(object)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[],"macros":[],"types":[]},{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools/MissingPropertyException","path":"Json/Tools/MissingPropertyException.html","kind":"class","full_name":"Json::Tools::MissingPropertyException","name":"MissingPropertyException","abstract":false,"superclass":{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/impatienttraveller/json-tools/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/impatienttraveller/json-tools/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"json-tools/exception.cr","line_number":32,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr"}],"repository_name":"github.com/impatienttraveller/json-tools","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools","kind":"module","full_name":"Json::Tools","name":"Tools"},"doc":"Exception raised by `Json::Tools::Patch` when trying to remove a property that does not exist in the target JSON object.","summary":"<p>Exception raised by <code><a href=\"../../Json/Tools/Patch.html\">Json::Tools::Patch</a></code> when trying to remove a property that does not exist in the target JSON object.</p>","class_methods":[],"constructors":[{"id":"new(object:JSON::Any,property_name:String)forallT-class-method","html_id":"new(object:JSON::Any,property_name:String)forallT-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":"JSON::Any"},{"name":"property_name","doc":null,"default_value":"","external_name":"property_name","restriction":"String"}],"args_string":"(object : JSON::Any, property_name : String) forall T","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L35","def":{"name":"new","args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":"JSON::Any"},{"name":"property_name","doc":null,"default_value":"","external_name":"property_name","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(object, property_name)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"object:JSON::Any-instance-method","html_id":"object:JSON::Any-instance-method","name":"object","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : JSON::Any","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L33","def":{"name":"object","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@object"}},{"id":"property_name:String-instance-method","html_id":"property_name:String-instance-method","name":"property_name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L33","def":{"name":"property_name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@property_name"}}],"macros":[],"types":[]},{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools/OutOfBoundsException","path":"Json/Tools/OutOfBoundsException.html","kind":"class","full_name":"Json::Tools::OutOfBoundsException","name":"OutOfBoundsException","abstract":false,"superclass":{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/impatienttraveller/json-tools/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/impatienttraveller/json-tools/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"json-tools/exception.cr","line_number":23,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr"}],"repository_name":"github.com/impatienttraveller/json-tools","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools","kind":"module","full_name":"Json::Tools","name":"Tools"},"doc":"Exception raised by `Json::Tools::Patch` if a path specified in the operation refers to an array index and is not within the array bounds.","summary":"<p>Exception raised by <code><a href=\"../../Json/Tools/Patch.html\">Json::Tools::Patch</a></code> if a path specified in the operation refers to an array index and is not within the array bounds.</p>","class_methods":[],"constructors":[{"id":"new(object:Array(JSON::Any),index:Int32)forallT-class-method","html_id":"new(object:Array(JSON::Any),index:Int32)forallT-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":"Array(JSON::Any)"},{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int32"}],"args_string":"(object : Array(JSON::Any), index : Int32) forall T","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L26","def":{"name":"new","args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":"Array(JSON::Any)"},{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(object, index)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"index:Int32-instance-method","html_id":"index:Int32-instance-method","name":"index","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L24","def":{"name":"index","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@index"}},{"id":"object:Array(JSON::Any)-instance-method","html_id":"object:Array(JSON::Any)-instance-method","name":"object","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Array(JSON::Any)","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L24","def":{"name":"object","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@object"}}],"macros":[],"types":[]},{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools/Patch","path":"Json/Tools/Patch.html","kind":"class","full_name":"Json::Tools::Patch","name":"Patch","abstract":false,"superclass":{"html_id":"github.com/impatienttraveller/json-tools/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/impatienttraveller/json-tools/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/impatienttraveller/json-tools/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"json-tools/patch.cr","line_number":28,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/patch.cr"}],"repository_name":"github.com/impatienttraveller/json-tools","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools","kind":"module","full_name":"Json::Tools","name":"Tools"},"doc":"An implementatition of https://datatracker.ietf.org/doc/rfc6902\n\nThis class represent a JSON patch object that can be applied to another JSON object, simply pass the patch object upon construction and then apply on the target document:\n\n```\njson_patch = JSON.parse(some_json_patch_string)\njson_obj = JSON.parse(some_json_object_string\npatch = Json::Tools::Patch.new(json_patch)\npatched_obj = patch.apply(json_obj)\n```","summary":"<p>An implementatition of https://datatracker.ietf.org/doc/rfc6902</p>","class_methods":[],"constructors":[{"id":"new(patch:JSON::Any)-class-method","html_id":"new(patch:JSON::Any)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"patch","doc":null,"default_value":"","external_name":"patch","restriction":"JSON::Any"}],"args_string":"(patch : JSON::Any)","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/patch.cr#L29","def":{"name":"new","args":[{"name":"patch","doc":null,"default_value":"","external_name":"patch","restriction":"JSON::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(patch)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"apply(document:JSON::Any)-instance-method","html_id":"apply(document:JSON::Any)-instance-method","name":"apply","doc":"Applies this patch on the given JSON object.\n\n```\njson_patch = JSON.parse(<<-JSON\n  [\n    { \"op\": \"add\", \"path\": \"/n\", \"value\": [1, 2, 3] },\n    { \"op\": \"remove\", \"path\": \"/a\" },\n    { \"op\": \"replace\", \"path\": \"/c/1\", \"value\": \"new\" }\n  ]\n  JSON\n)\njson_obj = JSON.parse(<<-JSON\n  {\n    \"a\": \"a val\",\n    \"b\": 123,\n    \"c\": [\"first\", \"old\", \"last\"]\n  }\n  JSON\n)\npatch = Json::Tools::Patch.new(json_patch)\npatched_obj = patch.apply(json_obj) # => { \"b\": 123, \"c\": [\"first\", \"new\", \"last\"], \"n\": [1, 2, 3] }\n```","summary":"<p>Applies this patch on the given JSON object.</p>","abstract":false,"args":[{"name":"document","doc":null,"default_value":"","external_name":"document","restriction":"JSON::Any"}],"args_string":"(document : JSON::Any)","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/patch.cr#L55","def":{"name":"apply","args":[{"name":"document","doc":null,"default_value":"","external_name":"document","restriction":"JSON::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"doc = document.clone\n@patch.as_a.each do |e|\n  case e[OP]?\n  when OP_TEST\n    test(doc, string_element(e, PATH), json_element(e, VALUE))\n  when OP_REMOVE\n    remove(doc, string_element(e, PATH))\n  when OP_ADD\n    add(doc, string_element(e, PATH), json_element(e, VALUE))\n  when OP_REPLACE\n    replace(doc, string_element(e, PATH), json_element(e, VALUE))\n  when OP_MOVE\n    move(doc, string_element(e, FROM), string_element(e, PATH))\n  when OP_COPY\n    copy(doc, string_element(e, FROM), string_element(e, PATH))\n  else\n    raise(IvalidFormat.new(\"Invalid operation in element #{e}\"))\n  end\nend\nreturn doc\n"}}],"macros":[],"types":[]},{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools/Pointer","path":"Json/Tools/Pointer.html","kind":"class","full_name":"Json::Tools::Pointer","name":"Pointer","abstract":false,"superclass":{"html_id":"github.com/impatienttraveller/json-tools/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/impatienttraveller/json-tools/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/impatienttraveller/json-tools/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"json-tools/pointer.cr","line_number":20,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/pointer.cr"}],"repository_name":"github.com/impatienttraveller/json-tools","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools","kind":"module","full_name":"Json::Tools","name":"Tools"},"doc":"An implementatition of https://tools.ietf.org/html/rfc6901\n\nThis class represent a JSON pointer that can be evaluated on a JSON object:\n\n```\njson_obj = JSON.parse(some_json_object_string)\npointer = Json::Tools::Pointer.new(\"/foo/0/bar\")\nvalue = pointer.eval(json_obj)\n```","summary":"<p>An implementatition of https://tools.ietf.org/html/rfc6901</p>","class_methods":[],"constructors":[{"id":"new(path)-class-method","html_id":"new(path)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":""}],"args_string":"(path)","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/pointer.cr#L24","def":{"name":"new","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(path)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"eval(document:JSON::Any):JSON::Any-instance-method","html_id":"eval(document:JSON::Any):JSON::Any-instance-method","name":"eval","doc":"Evaluates the pointer on the given JSON object.\n\n```\njson_obj = JSON.parse(<<-JSON\n  {\n    \"foo\": [\n      {\n        \"bar\": 12,\n        \"baz\": 34\n      },\n      {\n        \"bar\": 56,\n        \"baz\": 78\n      }\n    ],\n    \"baz\": \"plaz\"\n  }\n  JSON\n)\npointer = Json::Tools::Pointer.new(\"/foo/1/bar\")\nvalue = pointer.eval(json_obj) # => 56\n```","summary":"<p>Evaluates the pointer on the given JSON object.</p>","abstract":false,"args":[{"name":"document","doc":null,"default_value":"","external_name":"document","restriction":"JSON::Any"}],"args_string":"(document : JSON::Any) : JSON::Any","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/pointer.cr#L79","def":{"name":"eval","args":[{"name":"document","doc":null,"default_value":"","external_name":"document","restriction":"JSON::Any"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"JSON::Any","visibility":"Public","body":"val = doEval(document)\nif val\n  return val\nend\nraise(PointerException.new(document, @path))\n"}},{"id":"key-instance-method","html_id":"key-instance-method","name":"key","doc":"Returns the element name at which this pointer points to.\n\n```\npointer = Json::Tools::Pointer.new(\"/foo/0/bar\")\nkey = pointer.key # => bar\n```","summary":"<p>Returns the element name at which this pointer points to.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/pointer.cr#L53","def":{"name":"key","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@path_parts[@path_parts.size - 1]"}},{"id":"parent-instance-method","html_id":"parent-instance-method","name":"parent","doc":"Returns a pointer to the parent element in the JSON object.\n\n```\npointer = Json::Tools::Pointer.new(\"/foo/0/bar\")\nparent = pointer.parent # => /foo/0\n```","summary":"<p>Returns a pointer to the parent element in the JSON object.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/pointer.cr#L37","def":{"name":"parent","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if @path_parts.empty? || @path_parts[0].blank?\n  raise(IllegalOperationException.new(\"This pointer is the root of the document\"))\nend\nparent_parts = @path_parts.clone\nparent_parts.pop\nif parent_parts.size > 0\nelse\n  parent_parts.push(\"\")\nend\nri = @path.rindex(/[^\\/]\\/?$/)\nif ri.nil?\n  ri = 0\nend\nreturn Pointer.new(parent_parts, @path[0, ri])\n"}},{"id":"path:String-instance-method","html_id":"path:String-instance-method","name":"path","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/pointer.cr#L24","def":{"name":"path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@path"}}],"macros":[],"types":[]},{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools/PointerException","path":"Json/Tools/PointerException.html","kind":"class","full_name":"Json::Tools::PointerException","name":"PointerException","abstract":false,"superclass":{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"github.com/impatienttraveller/json-tools/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"github.com/impatienttraveller/json-tools/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/impatienttraveller/json-tools/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"json-tools/exception.cr","line_number":3,"url":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr"}],"repository_name":"github.com/impatienttraveller/json-tools","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/impatienttraveller/json-tools/Json/Tools","kind":"module","full_name":"Json::Tools","name":"Tools"},"doc":"Exception raised by `Json::Tools::Pointer` if the pointer cannot be constructed of evaluated.","summary":"<p>Exception raised by <code><a href=\"../../Json/Tools/Pointer.html\">Json::Tools::Pointer</a></code> if the pointer cannot be constructed of evaluated.</p>","class_methods":[],"constructors":[{"id":"new(object:JSON::Any,index:String|Int32)-class-method","html_id":"new(object:JSON::Any,index:String|Int32)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":"JSON::Any"},{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"String | Int32"}],"args_string":"(object : JSON::Any, index : String | Int32)","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L6","def":{"name":"new","args":[{"name":"object","doc":null,"default_value":"","external_name":"object","restriction":"JSON::Any"},{"name":"index","doc":null,"default_value":"","external_name":"index","restriction":"String | Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(object, index)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"index:Int32|String-instance-method","html_id":"index:Int32|String-instance-method","name":"index","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Int32 | String","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L4","def":{"name":"index","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@index"}},{"id":"object:JSON::Any-instance-method","html_id":"object:JSON::Any-instance-method","name":"object","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : JSON::Any","source_link":"https://github.com/impatienttraveller/json-tools/blob/fcd058717bff4e52e0f099763ff2397a9008612b/src/json-tools/exception.cr#L4","def":{"name":"object","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@object"}}],"macros":[],"types":[]}]}]}]}})